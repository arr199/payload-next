"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
Object.defineProperty(exports, "default", {
    enumerable: true,
    get: function() {
        return _default;
    }
});
const _qs = /*#__PURE__*/ _interop_require_default(require("qs"));
const _react = /*#__PURE__*/ _interop_require_wildcard(require("react"));
const _reacti18next = require("react-i18next");
const _reactrouterdom = require("react-router-dom");
const _uuid = require("uuid");
const _usePayloadAPI = /*#__PURE__*/ _interop_require_default(require("../../../../hooks/usePayloadAPI"));
const _useUseAsTitle = require("../../../../hooks/useUseAsTitle");
const _StepNav = require("../../../elements/StepNav");
const _TableColumns = require("../../../elements/TableColumns");
const _ActionsProvider = require("../../../utilities/ActionsProvider");
const _Auth = require("../../../utilities/Auth");
const _Config = require("../../../utilities/Config");
const _Preferences = require("../../../utilities/Preferences");
const _RenderCustomComponent = /*#__PURE__*/ _interop_require_default(require("../../../utilities/RenderCustomComponent"));
const _SearchParams = require("../../../utilities/SearchParams");
const _Default = /*#__PURE__*/ _interop_require_default(require("./Default"));
const _formatFields = /*#__PURE__*/ _interop_require_default(require("./formatFields"));
function _interop_require_default(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
function _getRequireWildcardCache(nodeInterop) {
    if (typeof WeakMap !== "function") return null;
    var cacheBabelInterop = new WeakMap();
    var cacheNodeInterop = new WeakMap();
    return (_getRequireWildcardCache = function(nodeInterop) {
        return nodeInterop ? cacheNodeInterop : cacheBabelInterop;
    })(nodeInterop);
}
function _interop_require_wildcard(obj, nodeInterop) {
    if (!nodeInterop && obj && obj.__esModule) {
        return obj;
    }
    if (obj === null || typeof obj !== "object" && typeof obj !== "function") {
        return {
            default: obj
        };
    }
    var cache = _getRequireWildcardCache(nodeInterop);
    if (cache && cache.has(obj)) {
        return cache.get(obj);
    }
    var newObj = {};
    var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;
    for(var key in obj){
        if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) {
            var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;
            if (desc && (desc.get || desc.set)) {
                Object.defineProperty(newObj, key, desc);
            } else {
                newObj[key] = obj[key];
            }
        }
    }
    newObj.default = obj;
    if (cache) {
        cache.set(obj, newObj);
    }
    return newObj;
}
const hoistQueryParamsToAnd = (where, queryParams)=>{
    if ('and' in where) {
        where.and.push(queryParams);
    } else if ('or' in where) {
        where = {
            and: [
                where,
                queryParams
            ]
        };
    } else {
        where = {
            and: [
                where,
                queryParams
            ]
        };
    }
    return where;
};
/**
 * The ListView component is table which lists the collection's documents.
 * The default list view can be found at the {@link DefaultList} component.
 * Users can also create pass their own custom list view component instead
 * of using the default one.
 */ const ListView = (props)=>{
    const { collection, collection: { admin: { components: { views: { List: CustomList } = {} } = {}, listSearchableFields, pagination: { defaultLimit } }, labels: { plural }, slug } } = props;
    const { routes: { admin, api }, serverURL } = (0, _Config.useConfig)();
    const { setViewActions } = (0, _ActionsProvider.useActions)();
    const preferenceKey = `${collection.slug}-list`;
    const { permissions } = (0, _Auth.useAuth)();
    const { setStepNav } = (0, _StepNav.useStepNav)();
    const { getPreference, setPreference } = (0, _Preferences.usePreferences)();
    const { limit, page, search, sort, where } = (0, _SearchParams.useSearchParams)();
    const history = (0, _reactrouterdom.useHistory)();
    const { t } = (0, _reacti18next.useTranslation)('general');
    const [fetchURL, setFetchURL] = (0, _react.useState)('');
    const [fields] = (0, _react.useState)(()=>(0, _formatFields.default)(collection));
    const collectionPermissions = permissions?.collections?.[slug];
    const hasCreatePermission = collectionPermissions?.create?.permission;
    const newDocumentURL = `${admin}/collections/${slug}/create`;
    const [{ data }, { setParams }] = (0, _usePayloadAPI.default)(fetchURL, {
        initialParams: {
            page: 1
        }
    });
    const titleField = (0, _useUseAsTitle.useUseTitleField)(collection);
    (0, _react.useEffect)(()=>{
        if (CustomList && typeof CustomList === 'object' && 'actions' in CustomList) {
            setViewActions(CustomList.actions || []);
        }
    }, [
        CustomList,
        setViewActions
    ]);
    (0, _react.useEffect)(()=>{
        setStepNav([
            {
                label: plural
            }
        ]);
    }, [
        setStepNav,
        plural
    ]);
    // /////////////////////////////////////
    // Set up Payload REST API query params
    // /////////////////////////////////////
    const resetParams = (0, _react.useCallback)((overrides = {})=>{
        const params = {
            depth: 0,
            draft: 'true',
            limit,
            page: overrides?.page,
            search: overrides?.search,
            sort: overrides?.sort,
            where: overrides?.where || {}
        };
        if (page) params.page = page;
        if (sort) params.sort = sort;
        if (where) params.where = where;
        params.invoke = (0, _uuid.v4)();
        if (search) {
            let copyOfWhere = {
                ...where || {}
            };
            const searchAsConditions = (listSearchableFields || [
                titleField?.name || 'id'
            ]).map((fieldName)=>{
                return {
                    [fieldName]: {
                        like: search
                    }
                };
            }, []);
            if (searchAsConditions.length > 0) {
                const conditionalSearchFields = {
                    or: [
                        ...searchAsConditions
                    ]
                };
                copyOfWhere = hoistQueryParamsToAnd(copyOfWhere, conditionalSearchFields);
            }
            params.where = copyOfWhere;
        }
        setParams(params);
    }, [
        limit,
        page,
        setParams,
        sort,
        where,
        search,
        listSearchableFields,
        titleField?.name
    ]);
    (0, _react.useEffect)(()=>{
        // Performance enhancement
        // Setting the Fetch URL this way
        // prevents a double-fetch
        setFetchURL(`${serverURL}${api}/${slug}`);
        resetParams();
    }, [
        api,
        resetParams,
        serverURL,
        slug
    ]);
    // /////////////////////////////////////
    // Fetch preferences on first load
    // /////////////////////////////////////
    (0, _react.useEffect)(()=>{
        (async ()=>{
            const currentPreferences = await getPreference(preferenceKey);
            const params = _qs.default.parse(history.location.search, {
                depth: 0,
                ignoreQueryPrefix: true
            });
            const search = {
                ...params,
                limit: params?.limit || currentPreferences?.limit || defaultLimit,
                sort: params?.sort || currentPreferences?.sort
            };
            const newSearchQuery = _qs.default.stringify(search, {
                addQueryPrefix: true
            });
            if (newSearchQuery.length > 1) {
                history.replace({
                    search: newSearchQuery
                });
            }
        })();
    }, [
        collection,
        getPreference,
        preferenceKey,
        history,
        t,
        defaultLimit
    ]);
    // /////////////////////////////////////
    // Set preferences on change
    // /////////////////////////////////////
    (0, _react.useEffect)(()=>{
        void setPreference(preferenceKey, {
            sort
        }, true);
    }, [
        sort,
        preferenceKey,
        setPreference
    ]);
    (0, _react.useEffect)(()=>{
        void setPreference(preferenceKey, {
            limit
        }, true);
    }, [
        limit,
        preferenceKey,
        setPreference
    ]);
    // /////////////////////////////////////
    // Prevent going beyond page limit
    // /////////////////////////////////////
    (0, _react.useEffect)(()=>{
        if (data?.totalDocs && data.pagingCounter > data.totalDocs) {
            const params = _qs.default.parse(history.location.search, {
                depth: 0,
                ignoreQueryPrefix: true
            });
            const newSearchQuery = _qs.default.stringify({
                ...params,
                page: data.totalPages
            }, {
                addQueryPrefix: true
            });
            history.replace({
                search: newSearchQuery
            });
        }
    }, [
        data,
        history,
        resetParams
    ]);
    let ListToRender = null;
    if (CustomList && typeof CustomList === 'function') {
        ListToRender = CustomList;
    } else if (typeof CustomList === 'object' && typeof CustomList.Component === 'function') {
        ListToRender = CustomList.Component;
    }
    return /*#__PURE__*/ _react.default.createElement(_TableColumns.TableColumnsProvider, {
        collection: collection
    }, /*#__PURE__*/ _react.default.createElement(_RenderCustomComponent.default, {
        CustomComponent: ListToRender,
        DefaultComponent: _Default.default,
        componentProps: {
            collection: {
                ...collection,
                fields
            },
            data,
            hasCreatePermission,
            limit: limit || defaultLimit,
            newDocumentURL,
            resetParams,
            titleField
        }
    }));
};
const _default = ListView;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uL3NyYy9hZG1pbi9jb21wb25lbnRzL3ZpZXdzL2NvbGxlY3Rpb25zL0xpc3QvaW5kZXgudHN4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBxdWVyeVN0cmluZyBmcm9tICdxcydcbmltcG9ydCBSZWFjdCwgeyB1c2VDYWxsYmFjaywgdXNlRWZmZWN0LCB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0J1xuaW1wb3J0IHsgdXNlVHJhbnNsYXRpb24gfSBmcm9tICdyZWFjdC1pMThuZXh0J1xuaW1wb3J0IHsgdXNlSGlzdG9yeSB9IGZyb20gJ3JlYWN0LXJvdXRlci1kb20nXG5pbXBvcnQgeyB2NCBhcyB1dWlkIH0gZnJvbSAndXVpZCdcblxuaW1wb3J0IHR5cGUgeyBXaGVyZSB9IGZyb20gJy4uLy4uLy4uLy4uLy4uL2V4cG9ydHMvdHlwZXMnXG5pbXBvcnQgdHlwZSB7IExpc3RJbmRleFByb3BzLCBMaXN0UHJlZmVyZW5jZXMsIFByb3BzIH0gZnJvbSAnLi90eXBlcydcblxuaW1wb3J0IHsgdHlwZSBGaWVsZCB9IGZyb20gJy4uLy4uLy4uLy4uLy4uL2ZpZWxkcy9jb25maWcvdHlwZXMnXG5pbXBvcnQgdXNlUGF5bG9hZEFQSSBmcm9tICcuLi8uLi8uLi8uLi9ob29rcy91c2VQYXlsb2FkQVBJJ1xuaW1wb3J0IHsgdXNlVXNlVGl0bGVGaWVsZCB9IGZyb20gJy4uLy4uLy4uLy4uL2hvb2tzL3VzZVVzZUFzVGl0bGUnXG5pbXBvcnQgeyB1c2VTdGVwTmF2IH0gZnJvbSAnLi4vLi4vLi4vZWxlbWVudHMvU3RlcE5hdidcbmltcG9ydCB7IFRhYmxlQ29sdW1uc1Byb3ZpZGVyIH0gZnJvbSAnLi4vLi4vLi4vZWxlbWVudHMvVGFibGVDb2x1bW5zJ1xuaW1wb3J0IHsgdXNlQWN0aW9ucyB9IGZyb20gJy4uLy4uLy4uL3V0aWxpdGllcy9BY3Rpb25zUHJvdmlkZXInXG5pbXBvcnQgeyB1c2VBdXRoIH0gZnJvbSAnLi4vLi4vLi4vdXRpbGl0aWVzL0F1dGgnXG5pbXBvcnQgeyB1c2VDb25maWcgfSBmcm9tICcuLi8uLi8uLi91dGlsaXRpZXMvQ29uZmlnJ1xuaW1wb3J0IHsgdXNlUHJlZmVyZW5jZXMgfSBmcm9tICcuLi8uLi8uLi91dGlsaXRpZXMvUHJlZmVyZW5jZXMnXG5pbXBvcnQgUmVuZGVyQ3VzdG9tQ29tcG9uZW50IGZyb20gJy4uLy4uLy4uL3V0aWxpdGllcy9SZW5kZXJDdXN0b21Db21wb25lbnQnXG5pbXBvcnQgeyB1c2VTZWFyY2hQYXJhbXMgfSBmcm9tICcuLi8uLi8uLi91dGlsaXRpZXMvU2VhcmNoUGFyYW1zJ1xuaW1wb3J0IERlZmF1bHRMaXN0IGZyb20gJy4vRGVmYXVsdCdcbmltcG9ydCBmb3JtYXRGaWVsZHMgZnJvbSAnLi9mb3JtYXRGaWVsZHMnXG5cbmNvbnN0IGhvaXN0UXVlcnlQYXJhbXNUb0FuZCA9ICh3aGVyZTogV2hlcmUsIHF1ZXJ5UGFyYW1zOiBXaGVyZSkgPT4ge1xuICBpZiAoJ2FuZCcgaW4gd2hlcmUpIHtcbiAgICB3aGVyZS5hbmQucHVzaChxdWVyeVBhcmFtcylcbiAgfSBlbHNlIGlmICgnb3InIGluIHdoZXJlKSB7XG4gICAgd2hlcmUgPSB7XG4gICAgICBhbmQ6IFt3aGVyZSwgcXVlcnlQYXJhbXNdLFxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICB3aGVyZSA9IHtcbiAgICAgIGFuZDogW3doZXJlLCBxdWVyeVBhcmFtc10sXG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHdoZXJlXG59XG5cbi8qKlxuICogVGhlIExpc3RWaWV3IGNvbXBvbmVudCBpcyB0YWJsZSB3aGljaCBsaXN0cyB0aGUgY29sbGVjdGlvbidzIGRvY3VtZW50cy5cbiAqIFRoZSBkZWZhdWx0IGxpc3QgdmlldyBjYW4gYmUgZm91bmQgYXQgdGhlIHtAbGluayBEZWZhdWx0TGlzdH0gY29tcG9uZW50LlxuICogVXNlcnMgY2FuIGFsc28gY3JlYXRlIHBhc3MgdGhlaXIgb3duIGN1c3RvbSBsaXN0IHZpZXcgY29tcG9uZW50IGluc3RlYWRcbiAqIG9mIHVzaW5nIHRoZSBkZWZhdWx0IG9uZS5cbiAqL1xuY29uc3QgTGlzdFZpZXc6IFJlYWN0LkZDPExpc3RJbmRleFByb3BzPiA9IChwcm9wcykgPT4ge1xuICBjb25zdCB7XG4gICAgY29sbGVjdGlvbixcbiAgICBjb2xsZWN0aW9uOiB7XG4gICAgICBhZG1pbjoge1xuICAgICAgICBjb21wb25lbnRzOiB7IHZpZXdzOiB7IExpc3Q6IEN1c3RvbUxpc3QgfSA9IHt9IH0gPSB7fSxcbiAgICAgICAgbGlzdFNlYXJjaGFibGVGaWVsZHMsXG4gICAgICAgIHBhZ2luYXRpb246IHsgZGVmYXVsdExpbWl0IH0sXG4gICAgICB9LFxuICAgICAgbGFiZWxzOiB7IHBsdXJhbCB9LFxuICAgICAgc2x1ZyxcbiAgICB9LFxuICB9ID0gcHJvcHNcblxuICBjb25zdCB7XG4gICAgcm91dGVzOiB7IGFkbWluLCBhcGkgfSxcbiAgICBzZXJ2ZXJVUkwsXG4gIH0gPSB1c2VDb25maWcoKVxuXG4gIGNvbnN0IHsgc2V0Vmlld0FjdGlvbnMgfSA9IHVzZUFjdGlvbnMoKVxuXG4gIGNvbnN0IHByZWZlcmVuY2VLZXkgPSBgJHtjb2xsZWN0aW9uLnNsdWd9LWxpc3RgXG4gIGNvbnN0IHsgcGVybWlzc2lvbnMgfSA9IHVzZUF1dGgoKVxuICBjb25zdCB7IHNldFN0ZXBOYXYgfSA9IHVzZVN0ZXBOYXYoKVxuICBjb25zdCB7IGdldFByZWZlcmVuY2UsIHNldFByZWZlcmVuY2UgfSA9IHVzZVByZWZlcmVuY2VzKClcbiAgY29uc3QgeyBsaW1pdCwgcGFnZSwgc2VhcmNoLCBzb3J0LCB3aGVyZSB9ID0gdXNlU2VhcmNoUGFyYW1zKClcbiAgY29uc3QgaGlzdG9yeSA9IHVzZUhpc3RvcnkoKVxuICBjb25zdCB7IHQgfSA9IHVzZVRyYW5zbGF0aW9uKCdnZW5lcmFsJylcbiAgY29uc3QgW2ZldGNoVVJMLCBzZXRGZXRjaFVSTF0gPSB1c2VTdGF0ZTxzdHJpbmc+KCcnKVxuICBjb25zdCBbZmllbGRzXSA9IHVzZVN0YXRlPEZpZWxkW10+KCgpID0+IGZvcm1hdEZpZWxkcyhjb2xsZWN0aW9uKSlcbiAgY29uc3QgY29sbGVjdGlvblBlcm1pc3Npb25zID0gcGVybWlzc2lvbnM/LmNvbGxlY3Rpb25zPy5bc2x1Z11cbiAgY29uc3QgaGFzQ3JlYXRlUGVybWlzc2lvbiA9IGNvbGxlY3Rpb25QZXJtaXNzaW9ucz8uY3JlYXRlPy5wZXJtaXNzaW9uXG4gIGNvbnN0IG5ld0RvY3VtZW50VVJMID0gYCR7YWRtaW59L2NvbGxlY3Rpb25zLyR7c2x1Z30vY3JlYXRlYFxuICBjb25zdCBbeyBkYXRhIH0sIHsgc2V0UGFyYW1zIH1dID0gdXNlUGF5bG9hZEFQSShmZXRjaFVSTCwgeyBpbml0aWFsUGFyYW1zOiB7IHBhZ2U6IDEgfSB9KVxuICBjb25zdCB0aXRsZUZpZWxkID0gdXNlVXNlVGl0bGVGaWVsZChjb2xsZWN0aW9uKVxuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKEN1c3RvbUxpc3QgJiYgdHlwZW9mIEN1c3RvbUxpc3QgPT09ICdvYmplY3QnICYmICdhY3Rpb25zJyBpbiBDdXN0b21MaXN0KSB7XG4gICAgICBzZXRWaWV3QWN0aW9ucyhDdXN0b21MaXN0LmFjdGlvbnMgfHwgW10pXG4gICAgfVxuICB9LCBbQ3VzdG9tTGlzdCwgc2V0Vmlld0FjdGlvbnNdKVxuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgc2V0U3RlcE5hdihbXG4gICAgICB7XG4gICAgICAgIGxhYmVsOiBwbHVyYWwsXG4gICAgICB9LFxuICAgIF0pXG4gIH0sIFtzZXRTdGVwTmF2LCBwbHVyYWxdKVxuXG4gIC8vIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgLy8gU2V0IHVwIFBheWxvYWQgUkVTVCBBUEkgcXVlcnkgcGFyYW1zXG4gIC8vIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuICBjb25zdCByZXNldFBhcmFtcyA9IHVzZUNhbGxiYWNrPFByb3BzWydyZXNldFBhcmFtcyddPihcbiAgICAob3ZlcnJpZGVzID0ge30pID0+IHtcbiAgICAgIGNvbnN0IHBhcmFtczogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gJiB7IHdoZXJlPzogV2hlcmUgfSA9IHtcbiAgICAgICAgZGVwdGg6IDAsXG4gICAgICAgIGRyYWZ0OiAndHJ1ZScsXG4gICAgICAgIGxpbWl0LFxuICAgICAgICBwYWdlOiBvdmVycmlkZXM/LnBhZ2UsXG4gICAgICAgIHNlYXJjaDogb3ZlcnJpZGVzPy5zZWFyY2gsXG4gICAgICAgIHNvcnQ6IG92ZXJyaWRlcz8uc29ydCxcbiAgICAgICAgd2hlcmU6IG92ZXJyaWRlcz8ud2hlcmUgfHwge30sXG4gICAgICB9XG5cbiAgICAgIGlmIChwYWdlKSBwYXJhbXMucGFnZSA9IHBhZ2VcbiAgICAgIGlmIChzb3J0KSBwYXJhbXMuc29ydCA9IHNvcnRcbiAgICAgIGlmICh3aGVyZSkgcGFyYW1zLndoZXJlID0gd2hlcmUgYXMgV2hlcmVcbiAgICAgIHBhcmFtcy5pbnZva2UgPSB1dWlkKClcblxuICAgICAgaWYgKHNlYXJjaCkge1xuICAgICAgICBsZXQgY29weU9mV2hlcmUgPSB7IC4uLigod2hlcmUgYXMgV2hlcmUpIHx8IHt9KSB9XG5cbiAgICAgICAgY29uc3Qgc2VhcmNoQXNDb25kaXRpb25zID0gKGxpc3RTZWFyY2hhYmxlRmllbGRzIHx8IFt0aXRsZUZpZWxkPy5uYW1lIHx8ICdpZCddKS5tYXAoXG4gICAgICAgICAgKGZpZWxkTmFtZSkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgW2ZpZWxkTmFtZV06IHtcbiAgICAgICAgICAgICAgICBsaWtlOiBzZWFyY2gsXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSxcbiAgICAgICAgICBbXSxcbiAgICAgICAgKVxuXG4gICAgICAgIGlmIChzZWFyY2hBc0NvbmRpdGlvbnMubGVuZ3RoID4gMCkge1xuICAgICAgICAgIGNvbnN0IGNvbmRpdGlvbmFsU2VhcmNoRmllbGRzID0ge1xuICAgICAgICAgICAgb3I6IFsuLi5zZWFyY2hBc0NvbmRpdGlvbnNdLFxuICAgICAgICAgIH1cbiAgICAgICAgICBjb3B5T2ZXaGVyZSA9IGhvaXN0UXVlcnlQYXJhbXNUb0FuZChjb3B5T2ZXaGVyZSwgY29uZGl0aW9uYWxTZWFyY2hGaWVsZHMpXG4gICAgICAgIH1cblxuICAgICAgICBwYXJhbXMud2hlcmUgPSBjb3B5T2ZXaGVyZVxuICAgICAgfVxuXG4gICAgICBzZXRQYXJhbXMocGFyYW1zKVxuICAgIH0sXG4gICAgW2xpbWl0LCBwYWdlLCBzZXRQYXJhbXMsIHNvcnQsIHdoZXJlLCBzZWFyY2gsIGxpc3RTZWFyY2hhYmxlRmllbGRzLCB0aXRsZUZpZWxkPy5uYW1lXSxcbiAgKVxuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgLy8gUGVyZm9ybWFuY2UgZW5oYW5jZW1lbnRcbiAgICAvLyBTZXR0aW5nIHRoZSBGZXRjaCBVUkwgdGhpcyB3YXlcbiAgICAvLyBwcmV2ZW50cyBhIGRvdWJsZS1mZXRjaFxuICAgIHNldEZldGNoVVJMKGAke3NlcnZlclVSTH0ke2FwaX0vJHtzbHVnfWApXG4gICAgcmVzZXRQYXJhbXMoKVxuICB9LCBbYXBpLCByZXNldFBhcmFtcywgc2VydmVyVVJMLCBzbHVnXSlcblxuICAvLyAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gIC8vIEZldGNoIHByZWZlcmVuY2VzIG9uIGZpcnN0IGxvYWRcbiAgLy8gLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgOyhhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBjdXJyZW50UHJlZmVyZW5jZXMgPSBhd2FpdCBnZXRQcmVmZXJlbmNlPExpc3RQcmVmZXJlbmNlcz4ocHJlZmVyZW5jZUtleSlcblxuICAgICAgY29uc3QgcGFyYW1zID0gcXVlcnlTdHJpbmcucGFyc2UoaGlzdG9yeS5sb2NhdGlvbi5zZWFyY2gsIHtcbiAgICAgICAgZGVwdGg6IDAsXG4gICAgICAgIGlnbm9yZVF1ZXJ5UHJlZml4OiB0cnVlLFxuICAgICAgfSlcblxuICAgICAgY29uc3Qgc2VhcmNoID0ge1xuICAgICAgICAuLi5wYXJhbXMsXG4gICAgICAgIGxpbWl0OiBwYXJhbXM/LmxpbWl0IHx8IGN1cnJlbnRQcmVmZXJlbmNlcz8ubGltaXQgfHwgZGVmYXVsdExpbWl0LFxuICAgICAgICBzb3J0OiBwYXJhbXM/LnNvcnQgfHwgY3VycmVudFByZWZlcmVuY2VzPy5zb3J0LFxuICAgICAgfVxuXG4gICAgICBjb25zdCBuZXdTZWFyY2hRdWVyeSA9IHF1ZXJ5U3RyaW5nLnN0cmluZ2lmeShzZWFyY2gsIHsgYWRkUXVlcnlQcmVmaXg6IHRydWUgfSlcblxuICAgICAgaWYgKG5ld1NlYXJjaFF1ZXJ5Lmxlbmd0aCA+IDEpIHtcbiAgICAgICAgaGlzdG9yeS5yZXBsYWNlKHtcbiAgICAgICAgICBzZWFyY2g6IG5ld1NlYXJjaFF1ZXJ5LFxuICAgICAgICB9KVxuICAgICAgfVxuICAgIH0pKClcbiAgfSwgW2NvbGxlY3Rpb24sIGdldFByZWZlcmVuY2UsIHByZWZlcmVuY2VLZXksIGhpc3RvcnksIHQsIGRlZmF1bHRMaW1pdF0pXG5cbiAgLy8gLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAvLyBTZXQgcHJlZmVyZW5jZXMgb24gY2hhbmdlXG4gIC8vIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIHZvaWQgc2V0UHJlZmVyZW5jZShwcmVmZXJlbmNlS2V5LCB7IHNvcnQgfSwgdHJ1ZSlcbiAgfSwgW3NvcnQsIHByZWZlcmVuY2VLZXksIHNldFByZWZlcmVuY2VdKVxuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgdm9pZCBzZXRQcmVmZXJlbmNlKHByZWZlcmVuY2VLZXksIHsgbGltaXQgfSwgdHJ1ZSlcbiAgfSwgW2xpbWl0LCBwcmVmZXJlbmNlS2V5LCBzZXRQcmVmZXJlbmNlXSlcblxuICAvLyAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gIC8vIFByZXZlbnQgZ29pbmcgYmV5b25kIHBhZ2UgbGltaXRcbiAgLy8gLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGRhdGE/LnRvdGFsRG9jcyAmJiBkYXRhLnBhZ2luZ0NvdW50ZXIgPiBkYXRhLnRvdGFsRG9jcykge1xuICAgICAgY29uc3QgcGFyYW1zID0gcXVlcnlTdHJpbmcucGFyc2UoaGlzdG9yeS5sb2NhdGlvbi5zZWFyY2gsIHtcbiAgICAgICAgZGVwdGg6IDAsXG4gICAgICAgIGlnbm9yZVF1ZXJ5UHJlZml4OiB0cnVlLFxuICAgICAgfSlcbiAgICAgIGNvbnN0IG5ld1NlYXJjaFF1ZXJ5ID0gcXVlcnlTdHJpbmcuc3RyaW5naWZ5KFxuICAgICAgICB7XG4gICAgICAgICAgLi4ucGFyYW1zLFxuICAgICAgICAgIHBhZ2U6IGRhdGEudG90YWxQYWdlcyxcbiAgICAgICAgfSxcbiAgICAgICAgeyBhZGRRdWVyeVByZWZpeDogdHJ1ZSB9LFxuICAgICAgKVxuICAgICAgaGlzdG9yeS5yZXBsYWNlKHtcbiAgICAgICAgc2VhcmNoOiBuZXdTZWFyY2hRdWVyeSxcbiAgICAgIH0pXG4gICAgfVxuICB9LCBbZGF0YSwgaGlzdG9yeSwgcmVzZXRQYXJhbXNdKVxuXG4gIGxldCBMaXN0VG9SZW5kZXIgPSBudWxsXG5cbiAgaWYgKEN1c3RvbUxpc3QgJiYgdHlwZW9mIEN1c3RvbUxpc3QgPT09ICdmdW5jdGlvbicpIHtcbiAgICBMaXN0VG9SZW5kZXIgPSBDdXN0b21MaXN0XG4gIH0gZWxzZSBpZiAodHlwZW9mIEN1c3RvbUxpc3QgPT09ICdvYmplY3QnICYmIHR5cGVvZiBDdXN0b21MaXN0LkNvbXBvbmVudCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIExpc3RUb1JlbmRlciA9IEN1c3RvbUxpc3QuQ29tcG9uZW50XG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxUYWJsZUNvbHVtbnNQcm92aWRlciBjb2xsZWN0aW9uPXtjb2xsZWN0aW9ufT5cbiAgICAgIDxSZW5kZXJDdXN0b21Db21wb25lbnRcbiAgICAgICAgQ3VzdG9tQ29tcG9uZW50PXtMaXN0VG9SZW5kZXJ9XG4gICAgICAgIERlZmF1bHRDb21wb25lbnQ9e0RlZmF1bHRMaXN0fVxuICAgICAgICBjb21wb25lbnRQcm9wcz17e1xuICAgICAgICAgIGNvbGxlY3Rpb246IHsgLi4uY29sbGVjdGlvbiwgZmllbGRzIH0sXG4gICAgICAgICAgZGF0YSxcbiAgICAgICAgICBoYXNDcmVhdGVQZXJtaXNzaW9uLFxuICAgICAgICAgIGxpbWl0OiBsaW1pdCB8fCBkZWZhdWx0TGltaXQsXG4gICAgICAgICAgbmV3RG9jdW1lbnRVUkwsXG4gICAgICAgICAgcmVzZXRQYXJhbXMsXG4gICAgICAgICAgdGl0bGVGaWVsZCxcbiAgICAgICAgfX1cbiAgICAgIC8+XG4gICAgPC9UYWJsZUNvbHVtbnNQcm92aWRlcj5cbiAgKVxufVxuXG5leHBvcnQgZGVmYXVsdCBMaXN0Vmlld1xuIl0sIm5hbWVzIjpbImhvaXN0UXVlcnlQYXJhbXNUb0FuZCIsIndoZXJlIiwicXVlcnlQYXJhbXMiLCJhbmQiLCJwdXNoIiwiTGlzdFZpZXciLCJwcm9wcyIsImNvbGxlY3Rpb24iLCJhZG1pbiIsImNvbXBvbmVudHMiLCJ2aWV3cyIsIkxpc3QiLCJDdXN0b21MaXN0IiwibGlzdFNlYXJjaGFibGVGaWVsZHMiLCJwYWdpbmF0aW9uIiwiZGVmYXVsdExpbWl0IiwibGFiZWxzIiwicGx1cmFsIiwic2x1ZyIsInJvdXRlcyIsImFwaSIsInNlcnZlclVSTCIsInVzZUNvbmZpZyIsInNldFZpZXdBY3Rpb25zIiwidXNlQWN0aW9ucyIsInByZWZlcmVuY2VLZXkiLCJwZXJtaXNzaW9ucyIsInVzZUF1dGgiLCJzZXRTdGVwTmF2IiwidXNlU3RlcE5hdiIsImdldFByZWZlcmVuY2UiLCJzZXRQcmVmZXJlbmNlIiwidXNlUHJlZmVyZW5jZXMiLCJsaW1pdCIsInBhZ2UiLCJzZWFyY2giLCJzb3J0IiwidXNlU2VhcmNoUGFyYW1zIiwiaGlzdG9yeSIsInVzZUhpc3RvcnkiLCJ0IiwidXNlVHJhbnNsYXRpb24iLCJmZXRjaFVSTCIsInNldEZldGNoVVJMIiwidXNlU3RhdGUiLCJmaWVsZHMiLCJmb3JtYXRGaWVsZHMiLCJjb2xsZWN0aW9uUGVybWlzc2lvbnMiLCJjb2xsZWN0aW9ucyIsImhhc0NyZWF0ZVBlcm1pc3Npb24iLCJjcmVhdGUiLCJwZXJtaXNzaW9uIiwibmV3RG9jdW1lbnRVUkwiLCJkYXRhIiwic2V0UGFyYW1zIiwidXNlUGF5bG9hZEFQSSIsImluaXRpYWxQYXJhbXMiLCJ0aXRsZUZpZWxkIiwidXNlVXNlVGl0bGVGaWVsZCIsInVzZUVmZmVjdCIsImFjdGlvbnMiLCJsYWJlbCIsInJlc2V0UGFyYW1zIiwidXNlQ2FsbGJhY2siLCJvdmVycmlkZXMiLCJwYXJhbXMiLCJkZXB0aCIsImRyYWZ0IiwiaW52b2tlIiwidXVpZCIsImNvcHlPZldoZXJlIiwic2VhcmNoQXNDb25kaXRpb25zIiwibmFtZSIsIm1hcCIsImZpZWxkTmFtZSIsImxpa2UiLCJsZW5ndGgiLCJjb25kaXRpb25hbFNlYXJjaEZpZWxkcyIsIm9yIiwiY3VycmVudFByZWZlcmVuY2VzIiwicXVlcnlTdHJpbmciLCJwYXJzZSIsImxvY2F0aW9uIiwiaWdub3JlUXVlcnlQcmVmaXgiLCJuZXdTZWFyY2hRdWVyeSIsInN0cmluZ2lmeSIsImFkZFF1ZXJ5UHJlZml4IiwicmVwbGFjZSIsInRvdGFsRG9jcyIsInBhZ2luZ0NvdW50ZXIiLCJ0b3RhbFBhZ2VzIiwiTGlzdFRvUmVuZGVyIiwiQ29tcG9uZW50IiwiVGFibGVDb2x1bW5zUHJvdmlkZXIiLCJSZW5kZXJDdXN0b21Db21wb25lbnQiLCJDdXN0b21Db21wb25lbnQiLCJEZWZhdWx0Q29tcG9uZW50IiwiRGVmYXVsdExpc3QiLCJjb21wb25lbnRQcm9wcyJd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